<?xml version="1.0" encoding="UTF-8" ?>
<class name="AudioStreamPlayerSpatial" inherits="Node3D" keywords="sound, sfx" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../../doc/class.xsd">
	<brief_description>
		Plays positional sound in 3D space using a separate spatializer
	</brief_description>
	<description>
		Plays audio with positional sound effects, based on [SpatializerParameters] and an associated [AudioEffectSpatializer].
		The [AudioEffectSpatializerBasic3D] and [SpatializerParametersBasic3D] can be used to reproduce most of the [AudioEffectPlayer3D] positional audio spatialization, including distance attenuation, directionality, and the Doppler effect. For greater realism, a low-pass filter is applied to distant sounds. This can be disabled by setting [member attenuation_filter_cutoff_hz] from [SpatializerParametersBasic3D] to [code]20500[/code].
		By default, audio is heard from the camera position. This can be changed by adding an [AudioListener3D] node to the scene and enabling it by calling [method AudioListener3D.make_current] on it.
		See also [AudioStreamPlayer] to play a sound non-positionally.
		[b]Note:[/b] Hiding an [AudioStreamPlayerSpatial] node does not disable its audio output. To temporarily disable an [AudioStreamPlayerSpatial]'s audio output, set [member volume_db] to a very low value like [code]-100[/code] (which isn't audible to human hearing).
	</description>
	<tutorials>
	</tutorials>
	<methods>
		<method name="get_playback_position">
			<return type="float" />
			<description>
				Returns the position in the [AudioStream].
			</description>
		</method>
		<method name="get_stream_playback">
			<return type="AudioStreamPlayback" />
			<description>
				Returns the [AudioStreamPlayback] object associated with this [AudioStreamPlayerSpatial].
			</description>
		</method>
		<method name="has_stream_playback">
			<return type="bool" />
			<description>
				Returns whether the [AudioStreamPlayer] can return the [AudioStreamPlayback] object or not.
			</description>
		</method>
		<method name="play">
			<return type="void" />
			<param index="0" name="from_position" type="float" default="0.0" />
			<description>
				Queues the audio to play on the next physics frame, from the given position [param from_position], in seconds.
			</description>
		</method>
		<method name="seek">
			<return type="void" />
			<param index="0" name="to_position" type="float" />
			<description>
				Sets the position from which audio will be played, in seconds.
			</description>
		</method>
		<method name="stop">
			<return type="void" />
			<description>
				Stops the audio.
			</description>
		</method>
	</methods>
	<members>
		<member name="autoplay" type="bool" setter="set_autoplay" getter="is_autoplay_enabled" default="false">
			If [code]true[/code], audio plays when the AudioStreamPlayer3D node is added to scene tree.
		</member>
		<member name="max_db" type="float" setter="set_max_db" getter="get_max_db" default="3.0">
			Sets the absolute maximum of the sound level, in decibels.
		</member>
		<member name="max_polyphony" type="int" setter="set_max_polyphony" getter="get_max_polyphony" default="1">
			The maximum number of sounds this node can play at the same time. Playing additional sounds after this value is reached will cut off the oldest sounds.
		</member>
		<member name="pitch_scale" type="float" setter="set_pitch_scale" getter="get_pitch_scale" default="1.0">
			The pitch and the tempo of the audio, as a multiplier of the audio sample's sample rate.
		</member>
		<member name="playing" type="bool" setter="set_playing" getter="is_playing" default="false">
			If [code]true[/code], audio is playing or is queued to be played (see [method play]).
		</member>
		<member name="spatializer" type="AudioSpatializer" setter="set_spatializer" getter="get_spatializer">
			String representation of an AudioEffectSpatializer on an audio bus, used to select look up the effect at runtime.
			This member can be bypassed by manually looking up the audio effect (via [AudioServer]) and setting it directly with [method set_spatializer_effect].
			[b]Note:[/b] Format of the name is "[EffectType] ([AudioBusName])", where [EffectType] is the string name of the effect in the Audio Bus layout panel, and [AudioBusName] is the bus name from the Audio Bus layout panel.
		</member>
		<member name="stream" type="AudioStream" setter="set_stream" getter="get_stream">
			The [AudioStream] resource to be played.
		</member>
		<member name="stream_paused" type="bool" setter="set_stream_paused" getter="get_stream_paused" default="false">
			If [code]true[/code], the playback is paused. You can resume it by setting [member stream_paused] to [code]false[/code].
		</member>
		<member name="volume_db" type="float" setter="set_volume_db" getter="get_volume_db" default="0.0">
			The base sound level before attenuation, in decibels.
		</member>
		<member name="volume_linear" type="float" setter="set_volume_linear" getter="get_volume_linear">
			The base sound level before attenuation, as a linear value.
			[b]Note:[/b] This member modifies [member volume_db] for convenience. The returned value is equivalent to the result of [method @GlobalScope.db_to_linear] on [member volume_db]. Setting this member is equivalent to setting [member volume_db] to the result of [method @GlobalScope.linear_to_db] on a value.
		</member>
	</members>
	<signals>
		<signal name="finished">
			<description>
				Emitted when the audio stops playing.
			</description>
		</signal>
	</signals>
</class>
